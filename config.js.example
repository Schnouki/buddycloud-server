// buddycloud-server config file
// change EXAMPLE.COM to match your domain

// jid referrs to your server component
exports.xmpp = { jid: 'buddycloud.EXAMPLE.COM',
		 password: 'tellnoone',
		 host: 'localhost',
		 port: 5347
	       };

// uncomment and set to enable topic channels on this domain
// exports.advertiseComponents = [ 'topics.EXAMPLE.COM' ];

// database settings
exports.modelBackend = 'postgres';
exports.modelConfig = {
    host: 'localhost',
    port: 5432,
    database: 'buddycloud-server',
    user: 'buddycloud-server',
    password: 'tellnoone',
    poolSize: 4
};

// default privacy for new new channels
exports.defaults = {
    userChannel: { openByDefault:  true },
    topicChannel: { openByDefault: true },
};

// level can be "FATAL", "ERROR", "WARN", "INFO", "DEBUG", "TRACE".
// you should use at least one of stdout, syslog and file.
exports.logging = {
    colorized: false,
    level: "INFO",
    // stdout: true,
    // syslog: { hostname: "localhost", port: 514 },
    file: "/var/log/buddycloud-server.log"
};

// restrict creation of topic channels to just your domain - a good idea
exports.checkCreateNode = function(opts) {
    return (opts.nodeUser === opts.actor) ||
	(opts.nodeUser.split("@")[1] === "topics.EXAMPLE.COM");
};

// JIDs of special listeners (users or components). They will be notified of
// *all* events, either on public channels only () or on all channels, including
// privates ones. This is only intended to be used by the crawler/search
// component and by the pusher component. If you don't know what they are, or if
// you don't use any of them, you should really leave this commented.
exports.specialListeners = {
    //publicChannels: [ "crawler@EXAMPLE.COM" ];
    //allChannels: [ "pusher.EXAMPLE.COM" ];
};

// autosubscribe users to a few channels
exports.autosubscribeNewUsers = [
    "help@topics.buddycloud.org",
    "lounge@topics.buddycloud.org",
    "topics@topics.buddycloud.org"
];
